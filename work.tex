\documentclass[bachelor, och, pract]{SCWorks}
% параметр - тип обучения - одно из значений:
%    spec     - специальность
%    bachelor - бакалавриат (по умолчанию)
%    master   - магистратура
% параметр - форма обучения - одно из значений:
%    och   - очное (по умолчанию)
%    zaoch - заочное
% параметр - тип работы - одно из значений:
%    referat    - реферат
%    coursework - курсовая работа (по умолчанию)
%    diploma    - дипломная работа
%    pract      - отчет по практике
%    pract      - отчет о научно-исследовательской работе
%    autoref    - автореферат выпускной работы
%    assignment - задание на выпускную квалификационную работу
%    review     - отзыв руководителя
%    critique   - рецензия на выпускную работу
% параметр - включение шрифта
%    times    - включение шрифта Times New Roman (если установлен)
%               по умолчанию выключен
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}

\usepackage{listings}
\usepackage{xcolor}
\lstset { %
    language=C++,
    %backgroundcolor=\color{black!5}, % set backgroundcolor
    %basicstyle=\footnotesize,% basic font setting
    basicstyle=\small
}

\usepackage[sort,compress]{cite}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{fancyvrb}
\usepackage{longtable}
\usepackage{array}
\usepackage[english,russian]{babel}
\usepackage{minted}
% Используется автором репозитория
%\usemintedstyle{xcode}
% Этот пакет включает в себя аналогичный Times New Roman шрифт.
% Необходим для успешной компиляции для UNIX-систем ввиду отсутствия TNR в нем.
% Можно использовать и для Windows.
\usepackage{tempora}


\usepackage[colorlinks=false]{hyperref}

\usepackage{verbatim}


\newcommand{\eqdef}{\stackrel {\rm def}{=}}

\newtheorem{lem}{Лемма}

% % При использовании biblatex вместо bibtex
%\usepackage[style=gost-numeric]{biblatex}
%\addbibresource{thesis.bib}

\begin{document}

% Кафедра (в родительном падеже)
\chair{информатики и программирования}

% Тема работы
\title{Разработка древовидной иерархии модулей управления компонентами ALT Linux}

% Курс
\course{3}

% Группа
\group{341}

% Факультет (в родительном падеже) (по умолчанию "факультета КНиИТ")
%\department{факультета КНиИТ}

% Специальность/направление код - наименование
%\napravlenie{02.03.02 "--- Фундаментальная информатика и информационные технологии}
\napravlenie{02.03.03 "--- Математическое обеспечение и администрирование информационных систем}
%\napravlenie{09.03.01 "--- Информатика и вычислительная техника}
%\napravlenie{09.03.04 "--- Программная инженерия}
%\napravlenie{10.05.01 "--- Компьютерная безопасность}

% Для студентки. Для работы студента следующая команда не нужна.
%\studenttitle{Студентки}

% Фамилия, имя, отчество в родительном падеже
\author{Шарова Кирилла Владимировича}

% Заведующий кафедрой
\chtitle{доцент, к.\,ф.-м.\,н.} % степень, звание
\chname{М.\,В.\,Огнева}

%Научный руководитель (для реферата преподаватель проверяющий работу)
\satitle{доцент, к.\,ф.-м.\,н.} %должность, степень, звание
\saname{? ?.?.}

% Руководитель практики от организации (только для практики,
% для остальных типов работ не используется)
\patitle{Заместитель генерального директора}
\paname{Е.\,А.\,Синельников}

% Семестр (только для практики, для остальных
% типов работ не используется)
\term{6}

% Наименование практики (только для практики, для остальных
% типов работ не используется)
\practtype{производственная}

% Продолжительность практики (количество недель) (только для практики,
% для остальных типов работ не используется)
\duration{4}

% Даты начала и окончания практики (только для практики, для остальных
% типов работ не используется)
\practStart{22.06.2024}
\practFinish{19.07.2024}

% Год выполнения отчета
\date{2024}

\maketitle

% Включение нумерации рисунков, формул и таблиц по разделам
% (по умолчанию - нумерация сквозная)
% (допускается оба вида нумерации)
%\secNumbering


\tableofcontents

% Раздел "Обозначения и сокращения". Может отсутствовать в работе
% \abbreviations
% \begin{description}
%     \item ... "--- ...
%     \item ... "--- ...
% \end{description}

% Раздел "Определения". Может отсутствовать в работе
%\definitions

% Раздел "Определения, обозначения и сокращения". Может отсутствовать в работе.
% Если присутствует, то заменяет собой разделы "Обозначения и сокращения" и "Определения"
%\defabbr


% Раздел "Введение"

\intro

ALT Linux — это семейство российских дистрибутивов Linux, разрабатываемых компанией «Базальт СПО».
Они предназначены для использования в государственных учреждениях, образовательных организациях и других структурах, где требуется надёжное и безопасное программное обеспечение.

Одной из особенностей ALT Linux является его ориентация на безопасность и защиту информации.
В дистрибутивы включены инструменты для шифрования данных, защиты от вирусов и несанкционированного доступа.
Также ALT Linux поддерживает работу с отечественными криптографическими алгоритмами и средствами аутентификации.

Компания «Базальт СПО» предоставляет техническую поддержку и обновления для ALT Linux, что обеспечивает его надёжность и стабильность.
Разработчики также проводят обучение и консультации по использованию системы, что способствует её распространению и внедрению.

В целом, ALT Linux представляет собой надёжную и безопасную операционную систему (далее ОС), которая может быть использована в различных областях деятельности.
Она позволяет снизить зависимость от иностранных поставщиков программного обеспечения и обеспечить безопасность информационных систем\cite{a_basealt}, % ссылка-заглушка пока что
что соответствует текущей государственной политике импортозамещения.

Целью работы является разработка древовидной иерархии модулей управления компонентами ОС ALT Linux.

Поставленная цель определила следующие задачи:
\begin{itemize}
    \item Научиться собирать RPM-пакеты инструментами ALT Linux.
    \item Начать прохождение процедуры Join.
    \item Изучить систему межпроцессного взаимодействия D-Bus.
    \item Научиться разрабатывать и пакетировать приложения на C++ и Qt5.
    \item Реализовать древовидную иерархию компонентов в alterator-application-components.
\end{itemize}

\section{Программы и их хранение в ALT Linux} % Объединение первых трех задач, формально теоретический раздел

\subsection{RPM-пакеты и средства пакетизации ALT Linux}

\textit{RPM-пакеты}

Неотъемлемой частью дистрибутивов Linux являются хранилища программного обеспечения (далее ПО), которые зачастую являются собственными и индивидуальными для конкретного дистрибутива.
Такое хранилище ПО называется репозиторием пакетов Linux.
В общем случае пакеты содержат директории с бинарными файлами, метаданными и информацией о зависимостях для их установки.
Репозитории пакетов Linux предназначены для стандартизации процесса установки ПО из удалённого хранилища, что предоставляет удобство как разработчикам, так и пользователям.

Самыми популярными форматами таких пакетов являются DEB (свойственны Debian-подобным дистрибутивам) и RPM (Red Hat Package Manager).
Репозитории пакетов семейства дистрибутивов ALT Linux основаны на пакетах RPM.

RPM-пакетизация состоит из следующих этапов:
y\begin{itemize}                                                                           
    \item Нахождение исходного текста программы (опционально).                           
    \item Написание инструкции сборки пакета.                                              
    \item Непосредственная сборка пакета.                            
\end{itemize}

Исходный текст программы часто можно получить на официальном сайте или странице программы.
Исходный текст может быть в виде архива tar, репозитория git, cvs, меркурий и т.п.
Также альтернативным источником исходного текста может быть пакет формата src.rpm или deb-src (у Debian-подобных дистрибутивов)\cite{a_rpm}.

В качестве сценария для сборки выступает файл формата spec (далее SPEC-файл).
Структура SPEC-файла следующая:
\begin{itemize}                                                                           
    \item Шапка с информацией о пакете.                          
    \item Описание пакета.              
    \item Секция предварительной обработки исходных данных.
    \item Секция сборки исходного текста.
    \item Секция установки результата сборки.
    \item Секция файлов.
    \item Секция метаданных о журнале изменений версий пакета.
\end{itemize}

В общем случае шапка SPEC-файла содержит следующую информацию:
\begin{itemize}                                                                                      
    \item Название пакета (Name).                                                              
    \item Версия ПО, включенного в пакет (Version).                                                                           
    \item Версия пакета (Release).                                          
    \item Резюме ПО (Summary).                                                            
    \item Лицензия распространения ПО (License).                   
    \item Категория, к которой относится ПО (Group).
    \item Электронный ресурс ПО (URL). 
    \item Имена архивов с исходными текстами (Source).
    \item Имена файлов исправлений (патчей), применяемых к исходным текстам (Patch).
    \item Архитектуры процессоров, на которых собирается пакет (BuildArch).
    \item Требуемые пакеты для сборки (BuildRequires).
    \item Требумые пакеты для запуска (Requires).
\end{itemize}

Секция предварительной обработки исходных данных (\%prep) включает в себя распаковку архива с исходниками в директорию сборки с установкой соответствующих пользовательских прав доступа.
Также при необходимости накладываются патчи, перечисленные в шапке под соответствующим ключом (например, макрос \%patch0 разворачивается в установку первого патча из перечисления).

Секция сборки исходного текста (\%build) включает в себя инструкции для непосредственной сборки предварительно обработанных исходных текстов в директории сборки.

Результат работы сборки проходит следующий этап в секции (\%install) с установкой собранного ПО в локальный корневой каталог пакета с настройкой пользовательских прав доступа.

Секция файлов (\%files) содержит перечисление файлов, полученных в результате сборки и установки в локальный корневой каталог, которые устанавливаются в пользовательскую систему при установке пакета.

Секция журнала изменений (\%changelog) включает в себя историю релизов пакета\cite{a_rpm-macro}.

Сборка RPM-пакета происходит в директории, содержащей, в общем случае, архив с исходными текстами программы, а также SPEC-файл.
Классическая сборка RPM-пакета из исходных текстов происходит посредством вызова следующей команды:

\mint{shell}|\$ rpmbuild -ba имя_SPEC-файла.spec| % FIXME

\textit{Средства пакетизации ALT Linux}

Дистрибутивы ALT Linux предоставляют инструменты собственной разработки для более надёжной и удобной в большинстве случаев сборки RPM-пакетов.

Например, классическая сборка RPM-пакета опирается на уже предустановленные в системе требуемые зависимости.
В процессе написания SPEC-файла можно забыть про некоторые требуемые зависимости для сборки, которые уже содержатся в системе.
Также требуемые зависимости для сборки могут быть специфичными для сборки конкретных исходных файлов и быть нужными только непосредственно при сборке.
Для того, чтобы решить проблему в точности требуемых пакетов и остаточных пакетов после процесса сборки необходимо производить сборку в "чистой" и временной системе.

Такую систему эмулирует Hasher -- собственная разработка Базальт СПО.
Hasher создает "чистую" и контролирумую среду внутри ОС, в которой производится сборка RPM-пакета.
Изолированность среды сборки позволяет вне зависимости от конфигурации системы пользователя повторить результат сборки RPM-пакета на другом компьютере и для любой из веток репозитория (подробнее в 1.2).

Сборка при помощи Hasher происходит от обычного пользователя, добавленного с помощью hasher-useradd (подробнее про настройку Hasher в 2.1):

\mint{shell}|\$ hsh ~/hasher имя_архива.src.rpm| % FIXME

Где ~/hasher -- директория, в которой строится сборочная среда (chroot). Рекомендуется это делать внутри домашней директории\cite{a_hasher}.

Также Базальт СПО был разработан инструмент Gear, который делает процесс сборки пакетов из исходных файлов более удобным. 
Например, очень часто исходные тексты ПО содержатся в Git-репозиториях.
Таким образом, Gear позволяет собирать RPM-пакеты напрямую из склонированного Git-репозитория, являясь, грубо говоря, более высокоуровневой надстройкой над rpmbuild с использованием Git.

Gear-репозиторий -- это Git-репозиторий, содержащий SPEC-файл и инструкцию архивации в .gear/rules, которая, чаще всего, содержит:
\mint{shell}|tar: .|

Что означает упаковку в tar-архив данных, содержащихся в текущей директории.
Причем архивация происходит не столько из исходных файлов репозитория, сколько из истории Git-репозитория. 
Поэтому все изменения в Gear-репозитории необходимо сохранять в истории (команда git commit содержимого git-индекса).

Сборка при помощи Gear происходит посредством вызова следующей команды (находясь в директории Gear-репозитория):
\mint{shell}|\$ gear-rpm -ba|

SPEC-файл в таком случае не требуется передавать в качестве аргумента явно, так как он будет найден в истории Git\cite{a_gear}.

Однако и Gear, и Hasher могут быть использованы вместе, что даёт удобную, надёжную и "чистую" сборку RPM-пакета.
И производится это при помощи следующей команды (находясь в директории Gear-репозитория):

\mint{shell}|\$ gear-hsh|

\subsection{Проект "Сизиф" и процедура Join}

Как было упомянуто ранее, пакеты ПО хранятся в специальных для конкретного дистрибутива репозиториях.
По специфике релизов ПО отличают 2 вида репозиториев: Rolling Release и Fixed Release.

Rolling Release (рус. скользящий выпуск) -- вид постоянно обновляемых репозиториев.
Такие репозитории содержат, как правило, пакеты с наиболее актуальными версиями ПО.
Частота обновления Rolling Release репозиториев связана с отсутствием как таковой процедуры тестирования пакетов ПО.
Резюмируя, такой подход обеспечивает пользователя пакетами с актуальными версиями ПО, однако не гарантируется стабильность пользовательского опыта.

Fixed Release (рус. постоянный, неизменный выпуск) репозитории имеют достоинства в виде стабильности включаемых пакетов.
Для попадания туда пакеты из, как правило, Rolling Release репозиториев проходят тщательное тестирование.
В противоположность Rolling Release, это обеспечивает стабильность пользовательского опыта, однако такой подход имеет недостаток в виде частоты выпуска стабильных веток.
Так как стабильные ветки обновляются не так часто, чаще всего они содержат устаревшие версии ПО.

В семействе дистрибутивов ALT Linux выделены следующие основные стабильные ветки APT-репозитория, на которых базируются непосредственно дистрибутивы: p5, p6, p7, p8, p9 и p10.
Также есть ветки сообщества: 5.1, t6, t7. Номер релиза сборки дистрибутива соответствует номеру ветки.
Например, ALT Workstation 10 базируется на ветке p10.

ALT Linux помимо стабильных веток обладает ключевой особенностью: проект "Sisyphus".
Sisyphus или же "Сизиф" является одним из крупнейших репозиториев свободного ПО в мире.
Целью проекта является развитие репозитория свободного ПО для разработки на его основе дистрибутивов и других решений.
Если репозитории, маркированные \textit{p}, разрабатываются непосредственно сотрудниками Базальт СПО, то "Сизиф" представляет собой инфраструктуру разработки,
регулярно обновляемую и поддерживаемую сообществом ALT Linux Team\cite{a_sisyphus}.

По сути Sisyphus является Rolling Release репозиторием, на базе которого уже разрабатываются Fixed Release репозитории.
Кратко говоря, пакеты Sisyphus, прошедшие процедуру проверки, попадают в стабильную ветку.
Участники сообщества ALT Linux Team также могут оставлять запрос на вхождение их пакета в стабильный релиз, проходя для этого некоторую процедуру.
Также на основе Sisyphus существуют неофициальные сборки дистрибутивов, которые используются, как правило, разработчиками сообщества ALT Linux Team.

Чтобы стать разработчиком проекта "Сизиф", необходимо присоединиться к сообществу ALT Linux Team, пройдя процедуру под названием "Join". 
Для того, чтобы новый человек стал частью команды, создаётся специальная группа из заинтересованных участников.

В эту группу, как правило, входят:
\begin{itemize}
    \item секретарь команды, который следит за этапами процесса и выполняет административные задачи;
    \item ментор, помогающий новичку адаптироваться, отвечающий на его вопросы и принимающий решение о готовности кандидата;
    \item рецензент работы, который проводит независимую оценку готовности новичка по результатам его работы и подтверждает его готовность.
\end{itemize}
Четвёртым участником является сам кандидат.

Необходимыми навыками для вступления в ALT Linux Team являются:
\begin{itemize}
    \item умение собирать ПО из исходных текстов;
    \item навыки чтения, правки и написания SPEC-файлов;
    \item знание специфики пакетирования RPM под ALT Linux.
\end{itemize}

По итогу прохождения процедуры Join кандидату даётся SSH-доступ к git.alt и вместе с тем возможность выкладывать пакеты в репозиторий ALT.
Единственной обязанностью члена ALT Linux Team является хранение ключей подписи (SSH и GPG) в недоступном для других людей месте\cite{a_join}.

\subsection{Системы межпроцессного взаимодействия}

Коммуникация сущностей является неотъемлемой частью любой ОС.
Встречаются следующие виды взаимодействий:

\begin{itemize}
    \item межпотоковое взаимодействие (Inter-Thread Communication);
    \item межпрограммное взаимодействие (Inter-Application Communcation);
    \item межпроцессное взаимодействие (Inter-Process Communcation).
\end{itemize}

Коммуникация между потоками, программами и процессами инкапсулирована в самом ядре ОС, поэтому доступ к ней осуществляется при помощи низкоуровневых библиотек или библиотек, основанных на низкоуровневых компонентах.

В частности, нас интересует межпроцессное взаимодействие. Дадим определение слову "процесс".

Процесс -- это среда выполнения для работы экземпляра программы, порождённая ОС, а точнее -- планировщиком, в виртуальном адресном пространстве.
К примеру, при запуске какой-либо программы создается процесс под неё, которому выделяется часть оперативной памяти.
В рамках которой, зачастую, и производится исполнение этой самой программы, не считая запрос динамической памяти к ОС.
Этот процесс наделяется некоторыми свойствами, также ему присваивается уникальный идентификатор.

Как нам известно, в ОС может существовать множество процессов.
Процессор обрабатывает эти процессы не одновременно.
За счёт вышеупомянутого планировщика он очень быстро переключается с одного процесса на другой, поэтому может казаться, что процессы выполняются независимо и параллельно.
А значит создаётся ощущение многозадачности.

\newpage

\section{Разработка системы конфигурации операционной системы ALT Linux}

\subsection{Инструментарий для разработки и пакетизации}

\subsection{Реализация иерархии компонентов alterator-application-components}

\newpage

% Раздел "Заключение"
\conclusion
Заключение.

%Библиографический список, составленный вручную, без использования BibTeX
%
%\begin{thebibliography}{99}
%  \bibitem{Ione} Источник 1.
%  \bibitem{Itwo} Источник 2
%\end{thebibliography}

%Библиографический список, составленный с помощью BibTeX
%
\bibliographystyle{gost780uv}
\bibliography{thesis}

% Окончание основного документа и начало приложений
% Каждая последующая секция документа будет являться приложением
\appendix

\section{Какое-то приложение}

\end{document}
